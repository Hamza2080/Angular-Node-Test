<header class="app-header navbar">
  <button class="navbar-toggler d-lg-none" type="button" appMobileSidebarToggler>&#9776;</button>
  <a class="navbar-brand" href="#"></a>
  <ul class="nav navbar-nav d-md-down-none">
    <li class="nav-item">
      <a class="nav-link navbar-toggler" href="#" appSidebarToggler>&#9776;</a>
    </li>
    <li class="nav-item px-3">
      <a class="nav-link" href="#">Dashboard</a>
    </li>
  </ul>
  <ul class="nav navbar-nav ml-auto mr-4">
    <li class="nav-item dropdown" dropdown (onToggle)="toggled($event)">
      <a href class="nav-link dropdown-toggle" dropdownToggle (click)="false">
        <img [src]="profileImageUrl + '?access_token=' + access_token" class="img-avatar" alt="admin@bootstrapmaster.com">
        <span class="d-md-down-none">{{user?.username}}</span>
      </a>
      <div class="dropdown-menu dropdown-menu-right" *dropdownMenu aria-labelledby="simple-dropdown">

        <div class="dropdown-header text-center"><strong>Account</strong></div>
        <div class="dropdown-header text-center"><strong>{{user?.email}}</strong></div>
        <a class="dropdown-item" href="#" [routerLink]="['/dashboard/profile']"><i class="fa fa-user"></i> Profile</a>
        <a *ngIf="userRole == 'admin'" class="dropdown-item" href="#" [routerLink]="['/dashboard/admin_view']"><i class="fa fa-user"></i> Admin View</a>
        <div class="divider"></div>
        <a class="dropdown-item" href="#" (click)="logout()"><i class="fa fa-lock"></i> Logout</a>
      </div>
    </li>
  </ul>
</header>

<div class="app-body">
  <div class="sidebar">
    <nav class="sidebar-nav">
      <ul class="nav">
        <li class="nav-item">
          <a class="nav-link" routerLinkActive="active" [routerLink]="['/dashboard']"><i class="icon-speedometer"></i>
            Dashboard <span class="badge badge-info">NEW</span></a>
        </li>
        <li class="divider"></li>
        <li class="nav-title">
          UI Elements
        </li>
        <li class="nav-item nav-dropdown" appNavDropdown>
          <a class="nav-link nav-dropdown-toggle" href="#" appNavDropdownToggle><i class="icon-star"></i> User</a>
          <ul class="nav-dropdown-items">
            <li class="nav-item">
              <a class="nav-link" routerLinkActive="active" [routerLink]="['/dashboard/profile']"><i class="icon-star"></i>
                Profile</a>
            </li>
            <li class="nav-item" *ngIf="userRole == 'admin'">
              <a class="nav-link" routerLinkActive="active" [routerLink]="['/dashboard/admin_view']"><i class="icon-star"></i>
                Admin View</a>
            </li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>

  <!-- Main content -->
  <main class="main">
    <div class="container-fluid mt-2">
      <router-outlet></router-outlet>
    </div><!-- /.conainer-fluid -->
  </main>
</div>

<footer class="app-footer">
  <a href="#">copyright </a> &copy; 2018.
  <span class="float-right">Powered by <a href="#">CoreUI</a></span>
</footer>
